(this.webpackJsonpphonebook=this.webpackJsonpphonebook||[]).push([[0],{14:function(e,n,t){e.exports=t(37)},36:function(e,n,t){},37:function(e,n,t){"use strict";t.r(n);var a=t(2),r=t(0),u=t.n(r),l=t(13),o=t.n(l),c=t(3),m=t.n(c),i="https://stark-cliffs-82679.herokuapp.com/api/persons",s=function(){return m.a.get(i).then((function(e){return e.data}))},h=function(e){return m.a.post(i,e).then((function(e){return e.data}))},d=function(e){return m.a.delete("".concat(i,"/").concat(e)).then((function(e){return e.data}))},f=(t(36),function(e){var n=e.message;return""===n?null:u.a.createElement("div",{className:"success"},n)}),b=function(e){var n=e.handleFilter;return u.a.createElement("div",null,"Filter shown with : ",u.a.createElement("input",{onChange:n}))},E=function(e){var n=e.newName,t=(e.setNewName,e.newPhone),a=(e.setNewPhone,e.handleNameChange),r=e.handlePhoneChange,l=e.addName;return u.a.createElement(u.a.Fragment,null,u.a.createElement("form",{onSubmit:l},u.a.createElement("div",null,"name: ",u.a.createElement("input",{value:n,onChange:a})),u.a.createElement("div",null,"number: ",u.a.createElement("input",{value:t,onChange:r})),u.a.createElement("div",null,u.a.createElement("button",{type:"submit"},"add"))))},p=function(e){var n=e.result,t=e.handleDelete;return u.a.createElement(u.a.Fragment,null,u.a.createElement("ul",null,n.map((function(e){return u.a.createElement("li",{key:e.name}," ",e.name+" "+e.number," ",u.a.createElement("button",{name:e.name,value:e.id,onClick:t}," Delete ")," ")}))),u.a.createElement("br",null))},v=function(){var e=Object(r.useState)([]),n=Object(a.a)(e,2),t=n[0],l=n[1],o=Object(r.useState)(""),c=Object(a.a)(o,2),m=c[0],i=c[1],v=Object(r.useState)(""),g=Object(a.a)(v,2),w=g[0],N=g[1],k=Object(r.useState)(""),j=Object(a.a)(k,2),O=j[0],C=j[1],y=Object(r.useState)(""),P=Object(a.a)(y,2),S=P[0],D=P[1],F=O?t.filter((function(e){return e.name.toLowerCase().includes(O.toLocaleLowerCase())})):t;return Object(r.useEffect)((function(){s().then((function(e){l(e)}))}),[]),u.a.createElement("div",null,u.a.createElement("h2",null,"Phonebook"),u.a.createElement(f,{message:S}),u.a.createElement(b,{handleFilter:function(e){C(e.target.value)}}),u.a.createElement("h2",null,"add a new "),u.a.createElement(E,{handleNameChange:function(e){i(e.target.value)},handlePhoneChange:function(e){N(e.target.value)},addName:function(e){e.preventDefault();var n={name:m,number:w},a="".concat(n.name," has successfuly been added to the phonebook ! ");if(t.some((function(e){return e.number===n.number&&""!==e.number})))alert("".concat(n.number," already belongs to someone")),N("");else{if(""===n.number||isNaN(n.number))return alert("Please input a valid number"),void N("");t.some((function(e){return e.name===n.name}))?alert("".concat(n.name," is already added to the phonebook")):(h(n).then((function(e){l(t.concat(e)),D(a),setTimeout((function(){D("")}),5e3),N(""),i("")})),i(""),N(""))}},newName:m,newPhone:w,setNewName:i,setNewPhone:N}),u.a.createElement("h2",null,"Numbers"),u.a.createElement(p,{result:F,handleDelete:function(e){window.confirm("Do you really want to delete ".concat(e.target.name," from the phonebook ?"))&&d(e.target.value).then((function(){s().then((function(e){l(e)}))}))}}))};o.a.render(u.a.createElement(v,null),document.getElementById("root"))}},[[14,1,2]]]);
//# sourceMappingURL=main.6fa201f4.chunk.js.map